<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Home - Toyota Parts Store</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>Toyota Liffey Valley Parts Store</header>
  <nav>
    <a href="parts.html">Parts List</a>
    <a href="cart.html">Cart & Checkout</a>
  </nav>
  <div class="container">
    <h2>Welcome to Toyota Liffey Valley Parts Store</h2>
    <p>Find genuine Toyota parts and accessories for your vehicle.</p>

    <h3>Enter Your Registration Number</h3>
    <input type="text" id="reg-input" placeholder="Enter reg (e.g. 151D12345)">
    <button onclick="lookupCar()">Check</button>
    <div style="margin-top: 15px;">
      <p><strong>Make:</strong> <span id="make-output">—</span></p>
      <p><strong>Model:</strong> <span id="model-output">—</span></p>
    </div>
  </div>
  <div class="live-cart" onmouseover="showCartPreview()" onmouseout="hideCartPreview()">
    <img src="https://cdn-icons-png.flaticon.com/512/1170/1170678.png" alt="Cart" />
    <div id="cart-preview" class="cart-preview"></div>
  </div>
  <script src="script.js"></script>
  <script>
    function lookupCar() {
      const reg = document.getElementById('reg-input').value.trim().toUpperCase();
      const output = {
        '151D12345': { make: 'Toyota', model: 'Yaris' },
        '161D54321': { make: 'Toyota', model: 'Corolla' },
        '171C67890': { make: 'Toyota', model: 'Rav4' }
      };
      const result = output[reg];
      document.getElementById('make-output').textContent = result ? result.make : 'Not Found';
      document.getElementById('model-output').textContent = result ? result.model : 'Not Found';
    }

    function showCartPreview() {
      const cartPreview = document.getElementById('cart-preview');
      cartPreview.style.display = 'block';
      updateCartPreview();
    }

    function hideCartPreview() {
      document.getElementById('cart-preview').style.display = 'none';
    }

    function updateCartPreview() {
      const cart = JSON.parse(localStorage.getItem('cart')) || [];
      let html = '<ul>';
      cart.forEach(item => {
        html += `<li>${item.name} - €${item.price.toFixed(2)}</li>`;
      });
      html += '</ul>';
      document.getElementById('cart-preview').innerHTML = cart.length ? html : '<p>Your cart is empty.</p>';
    }

    updateCartPreview();
  </script>
</body>
</html>
